C:\Users\keiji.takao\Documents\free_market\90_残課題.md

# 環境
- [x] phpmyadminの導入と自動化  composerではなくyumっぽいかな
- [ ] 監視ツールの導入と自動化　mrtgかzabbixかな
- [ ] システムログの定期的な消し込みも用意する？
- [ ] loadbalancerも導入しておく？
- [ ] php.iniをより良い形に
- [ ] vhost　事前にいくつかきっておく？
- [ ] releaseシェルはサーバの状況をみてでいいかなー。

# サイト
- [x] 40X,50X系画面の作成  
⇒共通化済、デザインは人任せで良い。

- [x] 操作ログ画面の作成と各画面での操作ログ登録処理の導入  
⇒PHPでJSONデータのDIFFってなかったけ？  
⇒変更後の内容をjson形式で保存しておく方向で。

- [ ] 管理者に権限ロールを設定するかどうか  
role : 一般管理者(0)、オペレータ(10)、上位管理者(20)  
初期登録は一般管理者とし、roleの変更は上位管理者のみ可能とする。  
⇒必要になってからで良いか。

- [x] 画面の排他制御はファイル？いやテーブルを用意してそちらで行うが吉か。  
Exclusive.php   
id, pages, target_id, admin_id, enable_datetime, created_at, modified_at  
pagesとtarget_idが一致し、かつadmin_idが自分ではなくenable_datetimeが未来日のレコードがあればロック中とする。  
enable_datetimeは120分ほど？CSRFがそのくらいだったはず。長いか？閉じるボタンとか考えると。  
一括ロック解除ボタンとかあるといざというとき捗るかも。  
⇒編集画面表示時、更新時バリデーションの2箇所で使用か？  
⇒有効期限は10分に仮設定。排他制御の一覧を用意し、個別にロック解除できるようにした  

- [x] 画面IDをそれぞれに用意する。共通定数として用意したほうが良い模様。  
⇒定数化済み。画面を作成したタイミングで順次追加する


